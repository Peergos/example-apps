<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
</head>

<body>
    <div id="app" style="height: 100vh">
        <!-- Webamp will attempt to center itself within this div -->
    </div>
	<script src="webamp.bundle.min.js"></script>
    <script>
    	let href = window.frames.frameElement.contentWindow.location.href
	var url = new URL(href);
	var filePath = url.searchParams.get("path");
	console.log("filePath=" + filePath);
	if(filePath == null || filePath.trim().length == 0) {
		filePath = 'llama-2.91.mp3';
	}	
        const Webamp = window.Webamp;
        const webamp = new Webamp({
            initialTracks: [
                {
                    url: filePath
                }
            ],
        });

        // Returns a promise indicating when it's done loading.
        webamp.renderWhenReady(document.getElementById('app'));
    </script>
</body>

</html>
